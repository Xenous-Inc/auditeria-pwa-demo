const CACHE_VERSION=10,CURRENT_CACHE="main-10",cacheFiles=["/","/about-me/","/projects/","/offline/"];self.addEventListener("activate",(e=>e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if("main-10"!==e)return caches.delete(e)})))))))),self.addEventListener("install",(e=>e.waitUntil(caches.open("main-10").then((e=>e.addAll(cacheFiles))))));const fromNetwork=(e,t)=>new Promise(((a,n)=>{const c=setTimeout(n,t);fetch(e).then((t=>{clearTimeout(c),a(t),update(e)}),n)})),fromCache=e=>caches.open("main-10").then((t=>t.match(e).then((e=>e||t.match("/offline/"))))),update=e=>caches.open("main-10").then((t=>{e.url.startsWith("http://80.90.188.237:8080/chapter")&&fetch(e).then((a=>t.put(e,a)))}));self.addEventListener("fetch",(e=>{e.respondWith(fromNetwork(e.request,1e4).catch((()=>fromCache(e.request)))),e.waitUntil(update(e.request))}));